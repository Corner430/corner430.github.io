---
title: 内网穿透
date: 2023-04-03 08:59:06
declare: true
tags:
    - 内网穿透
toc: 1
---
## 1 frp

### 1.1 frps

**`frps.ini` 示例**

```bash
[common]
bind_port = 7000
token = password
dashboard_port = 7500(网页登录端口)
dashboard_user = admin（网页登录帐号）
dashboard_pwd = password（网页登录密码）
vhost_http_port = 10080
vhost_https_port = 10443
```

**执行查看结果**

```shell
frps -c frps.ini

# 输出如下：

2019/01/12 15:22:39 [I] [service.go:130] frps tcp listen on 0.0.0.0:7000
2019/01/12 15:22:39 [I] [service.go:172] http service listen on 0.0.0.0:10080
2019/01/12 15:22:39 [I] [service.go:193] https service listen on 0.0.0.0:10443
2019/01/12 15:22:39 [I] [service.go:216] Dashboard listen on 0.0.0.0:7500
2019/01/12 15:22:39 [I] [root.go:210] Start frps success
```

### 1.2 frpc

**`frpc.ini` 示例**

```shell
[common]
server_addr = 1.1.1.1
server_port = 7000
token= password

[RDP]
type = tcp
local_ip = 127.0.0.1
local_port = 3389
remote_port = 7001

[VNC]
type = tcp
local_ip = 127.0.0.1
local_port = 5900
remote_port = 7002

[SMB]
type = tcp
local_ip = 127.0.0.1
local_port = 445
remote_port = 7003
```

**执行查看结果**

```shell
./frpc -c frpc.ini

# 输出如下：
2019/01/12 16:14:56 [I] [service.go:205] login to server success, get run id [2b65b4e58a5917ac], server udp port [0]
2019/01/12 16:14:56 [I] [proxy_manager.go:136] [2b65b4e58a5917ac] proxy added: [rdp smb]
2019/01/12 16:14:56 [I] [control.go:143] [smb] start proxy success
2019/01/12 16:14:56 [I] [control.go:143] [rdp] start proxy success
```

### 1.3 开机自启动

#### 1.3.1 windows

```vbs
set ws=wscript.createobject("wscript.shell")
ws.run "cmd /c C:\frp_0.51.3_windows_amd64\frpc.exe -c C:\frp_0.51.3_windows_amd64\frpc.ini",0
```

#### 1.3.2 Linux

```shell
vim /etc/systemd/system/frpc.service

# 输入内容如下：
[Unit]
Description=Frp client
After=network.target

[Service]
Type=simple
ExecStart=/path/to/your/frpc -c /path/to/your/frpc.ini
Restart=always
RestartSec=3

[Install]
WantedBy=multi-user.target
```

## 2. Zerotier

Official website: https://www.zerotier.com/
Account: sikes60407@loongwin.com
Password: yFKjXv46JT@.43d
Network ID: 
- Linux install ZeroTier
`curl -s https://install.zerotier.com | sudo bash`

- Join the network by ID
`sudo zerotier-cli join <NETWORK_ID>`

- Go to the official website to authorize

- Check connection status
`sudo zerotier-cli listnetworks`

- Addition
```bash
zerotier-cli leave Network ID   #leave the network

sudo systemctl enable zerotier-one.service

sudo systemctl start zerotier-one.service

sudo zerotier-cli join <NETWORK_ID>
```

### 3. 花生壳

### 4. tailscale
国内目前测试比 zerotier 好用一些

### 5. [moonlight](https://github.com/moonlight-stream/moonlight-qt) + [sunshine](https://github.com/LizardByte/Sunshine)
服务端 sunshine，客户端 moonlight
